<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>1-P (alcotest.Alcotest_engine__.Core.MAKER.1-P)</title><link rel="stylesheet" href="../../../../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc %%VERSION%%"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> – <a href="../../../../index.html">alcotest</a> &#x00BB; <a href="../../../index.html">Alcotest_engine__</a> &#x00BB; <a href="../../index.html">Core</a> &#x00BB; <a href="../index.html">MAKER</a> &#x00BB; 1-P</nav><h1>Parameter <code>MAKER.1-P</code></h1></header><h3 class="heading">Parameters</h3><ul><li><code><a href="argument-1-M/index.html">M</a> : <a href="../../../../Alcotest_engine/Monad/index.html#module-type-S">Alcotest_engine.Monad.S</a></code></li></ul><h3 class="heading">Signature</h3><dl><dt class="spec value" id="val-time"><a href="#val-time" class="anchor"></a><code><span class="keyword">val</span> time : unit <span>&#45;&gt;</span> float</code></dt><dd><p><code>time ()</code> returns the current timestamp, used to measure the duration of a testrun.</p></dd></dl><dl><dt class="spec value" id="val-getcwd"><a href="#val-getcwd" class="anchor"></a><code><span class="keyword">val</span> getcwd : unit <span>&#45;&gt;</span> string</code></dt><dd><p><code>getcwd ()</code> returns the current working directory.</p></dd></dl><dl><dt class="spec value" id="val-prepare"><a href="#val-prepare" class="anchor"></a><code><span class="keyword">val</span> prepare : <span>base:string</span> <span>&#45;&gt;</span> <span>dir:string</span> <span>&#45;&gt;</span> <span>name:string</span> <span>&#45;&gt;</span> unit</code></dt><dd><p><code>prepare ~base ~dir ~name</code> is called before test suite execution. <code>base</code> is the parent of the log directory, <code>dir</code> the log directory (including unique testrun ID), and <code>name</code> is the test name. On Unix, this function creates the log directory <code>dir</code> for the test output, and sets up the symlink <code>latest</code> to the latest result.</p></dd></dl><dl><dt class="spec type" id="type-promise"><a href="#type-promise" class="anchor"></a><code><span class="keyword">type</span> <span>'a promise</span></code></dt><dd><p>The type of monadic actions handled by <a href="index.html#val-with_redirect"><code>with_redirect</code></a>.</p></dd></dl><dl><dt class="spec value" id="val-with_redirect"><a href="#val-with_redirect" class="anchor"></a><code><span class="keyword">val</span> with_redirect : string <span>&#45;&gt;</span> <span>(unit <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="index.html#type-promise">promise</a></span>)</span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="index.html#type-promise">promise</a></span></code></dt><dd><p><code>with_redirect output_file f</code> is called for each test. On Unix, it it deals with redirection of standard streams to the <code>output_file</code>. The implementation of <code>with_redirect</code> has to make sure to call <code>f</code> in order to run the test case.</p></dd></dl><dl><dt class="spec value" id="val-setup_std_outputs"><a href="#val-setup_std_outputs" class="anchor"></a><code><span class="keyword">val</span> setup_std_outputs : <span>?&#8288;style_renderer:Fmt.style_renderer</span> <span>&#45;&gt;</span> <span>?&#8288;utf_8:bool</span> <span>&#45;&gt;</span> unit <span>&#45;&gt;</span> unit</code></dt><dd><p><code>setup_std_outputs ~style_renderer ~utf_8 ()</code> is called at startup of alcotest and sets up the standard streams for colored output.</p></dd></dl><dl><dt class="spec value" id="val-home_directory"><a href="#val-home_directory" class="anchor"></a><code><span class="keyword">val</span> home_directory : unit <span>&#45;&gt;</span> <span><span>(string, <span>[ <span>`Msg of string</span> ]</span>)</span> Stdlib.result</span></code></dt><dd><p><code>home_directory ()</code> is the current user's HOME directory, if it exists.</p></dd></dl></div></body></html>